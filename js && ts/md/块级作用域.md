## 块级作用域

块级作用域可通过 let 和 const 声明生成，所声明的变量在指定块的作用域外无法访问。块级作用域在如下的情况被创建：

1. 在一个函数内部
2. 在一个代码块(由一对花括号包裹)内部

let 声明的语法和 var 一直。你基本上可以使用let来代替var进行变量声明，但会将变量的作用域限制在当前代码块中。块级作用域有以下几个特点：

- 变量声明不会被提升到代码块顶部
- 禁止重复声明



## 块级作用域和作用域链

例子：

for循环中的作用域绑定

```javascript
for (var i = 0; i < 10; i ++) {
	setTimeout(() => {
        console.log(i);
    }, 100)	
}
console.log(i);
// 将会输出11个10
```

在这个例子中，for循环命名的i是属于全局变量，当第一轮的微队列执行完毕之后，进入抽取宏队列首位的任务进行执行，这时候setTimeout内部开始执行，内部查找i的值，在内部没有查询到的情况下，顺着作用域链向外查找，查找到的是全局变量i， 由于微队列中已经将i计算为10，所以10次setTimeout输出的值都会是10

```javascript
for (let i = 0; i < 10; i ++) {
	setTimeout(() => {
        console.log(i);
    }, 100)	
}
// 0, 1, 2...
```

当使用let关键字的时候，在当第一轮的微队列执行时，将会创建10个i的作用域，这时候i不属于全局变量，当执行setTimeout的时候，内部查找i的值，在内部没有查询到的情况下，顺着作用域链向外查找，查找到的是i的作用域，每个i的值都被保存下来，所以会输出正确的结果

